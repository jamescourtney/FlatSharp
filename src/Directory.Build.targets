<Project>
  <PropertyGroup Condition=" '$(NeedsFlatSharpCompiler)' == 'true' and '$(RuntimeIdentifier)' == '' ">
    <FlatSharpCompilerPath>$(MSBuildThisFileDirectory)FlatSharp.Compiler/bin/$(Configuration)/net8.0/FlatSharp.Compiler.dll</FlatSharpCompilerPath>
    <FlatSharpNameNormalization>true</FlatSharpNameNormalization>
  </PropertyGroup>

  <PropertyGroup Condition=" '$(NeedsFlatSharpCompiler)' == 'true' and '$(RuntimeIdentifier)' != '' ">
    <FlatSharpCompilerPath>$(MSBuildThisFileDirectory)FlatSharp.Compiler/bin/$(Configuration)/net8.0/$(RuntimeIdentifier)/FlatSharp.Compiler.dll</FlatSharpCompilerPath>
    <FlatSharpNameNormalization>true</FlatSharpNameNormalization>
  </PropertyGroup>

  <!--
  <Target Name="BuildCompiler" BeforeTargets="FlatSharpFbsCompile" Condition=" '$(NeedsFlatSharpCompiler)' == 'true' ">
    <MSBuild Projects="$(MSBuildThisFileDirectory)FlatSharp.Compiler/FlatSharp.Compiler.csproj" Properties="Configuration=Release;TargetFramework=net8.0;OutputPath=$(MSBuildProjectDirectory)/bin/compiler/;RuntimeIdentifier=" RebaseOutputs="true"/>
  </Target>
  -->
  

  <ItemGroup Condition=" '$(NeedsFlatSharpCompiler)' == 'true' ">
    <ProjectReference Include="$(MSBuildThisFileDirectory)FlatSharp.Compiler/FlatSharp.Compiler.csproj">
      <Private>false</Private>
    </ProjectReference>
  </ItemGroup>
    
  <Import Project="$(MSBuildThisFileDirectory)FlatSharp.Compiler/FlatSharp.Compiler.targets" Condition=" '$(NeedsFlatSharpCompiler)' == 'true' "/>
</Project>
